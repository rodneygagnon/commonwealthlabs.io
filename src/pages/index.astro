---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import FeatureCard from '../components/FeatureCard.astro';

const features = [
  {
    title: 'Open Source',
    description: 'Every line of code is open. Self-host with complete control over your data.',
  },
  {
    title: 'AI-Powered',
    description: 'Semantic search helps citizens understand complex legislative documents.',
  },
  {
    title: 'Pluggable',
    description: 'Swap providers for LLMs, databases, and auth without code changes.',
  },
  {
    title: 'Privacy First',
    description: 'No tracking, no ads. Complete data sovereignty for every deployment.',
  },
  {
    title: 'Network Effect',
    description: 'Improvements from any deployment benefit the entire network.',
  },
  {
    title: 'Self-Hosted',
    description: 'Deploy on your own infrastructure. AWS, GCP, or Azure.',
  },
];

const techStack = [
  { name: 'Next.js', url: 'https://nextjs.org' },
  { name: 'NestJS', url: 'https://nestjs.com' },
  { name: 'GraphQL', url: 'https://graphql.org' },
  { name: 'PostgreSQL', url: 'https://postgresql.org' },
  { name: 'Terraform', url: 'https://terraform.io' },
  { name: 'Ollama', url: 'https://ollama.com' },
  { name: 'Supabase', url: 'https://supabase.com' },
];
---

<BaseLayout title="Civic Technology for Engaged Democracy">
  <Hero
    title="Civic technology for engaged democracy"
    subtitle="Open-source tools that help citizens understand legislation, engage with representatives, and participate in democracy."
    ctaText="Join the Network"
    ctaHref="/join"
    secondaryCtaText="View on GitHub"
    secondaryCtaHref="https://github.com/rodneygagnon/qckstrt"
  />

  <Section
    id="features"
    title="Built for civic organizations"
    subtitle="A complete platform that jurisdictions can fork, customize, and deploy."
  >
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {features.map(feature => (
        <FeatureCard {...feature} />
      ))}
    </div>
  </Section>

  <Section
    id="how-it-works"
    title="How it works"
    background="gray"
  >
    <div class="grid md:grid-cols-3 gap-12">
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">01</div>
        <h3 class="text-lg font-medium mb-2">Fork the platform</h3>
        <p class="text-slate-dark/80 text-sm">Start with a complete, tested codebase. No building from scratch.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">02</div>
        <h3 class="text-lg font-medium mb-2">Add your data</h3>
        <p class="text-slate-dark/80 text-sm">Create a region provider for your jurisdiction's data sources.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">03</div>
        <h3 class="text-lg font-medium mb-2">Deploy and join</h3>
        <p class="text-slate-dark/80 text-sm">Self-host on your infrastructure and join the network.</p>
      </div>
    </div>
  </Section>

  <Section
    id="technology"
    title="Technology"
    subtitle="Built entirely with open-source components."
  >
    <div class="flex flex-wrap gap-3">
      {techStack.map(tech => (
        <a
          href={tech.url}
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm text-slate-dark/80 border border-slate-dark/10 px-4 py-2 rounded-full hover:border-sage hover:text-sage transition-colors"
        >
          {tech.name}
        </a>
      ))}
    </div>
  </Section>

  <Section background="dark">
    <div class="max-w-xl">
      <h2 class="text-2xl font-semibold mb-4 tracking-tight">Ready to get started?</h2>
      <p class="text-white/70 mb-8">
        Deploy civic technology for your jurisdiction and join a growing network of organizations.
      </p>
      <div class="flex gap-3">
        <a
          href="/join"
          class="inline-flex items-center bg-slate-dark text-white border border-white px-5 py-2.5 rounded-md hover:bg-slate-dark/90 transition-colors text-sm font-medium"
        >
          Join the Network
        </a>
        <a
          href="https://github.com/rodneygagnon/qckstrt"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center text-white/80 hover:text-white px-5 py-2.5 text-sm font-medium transition-colors"
        >
          View on GitHub
        </a>
      </div>
    </div>
  </Section>
</BaseLayout>
