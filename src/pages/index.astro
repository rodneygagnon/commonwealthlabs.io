---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';

const tools = [
  {
    title: 'Scan Petitions',
    description: 'Point your phone at any petition and get an instant, plain-language breakdown of what it means.',
    href: '/platform#petition-scanner',
  },
  {
    title: 'Explore Propositions',
    description: 'Browse every ballot measure in your jurisdiction with plain-language summaries and full text.',
    href: '/platform#proposition-explorer',
  },
  {
    title: 'Follow the Money',
    description: 'See who\'s funding what. Track contributions, expenditures, and outside spending on any measure.',
    href: '/platform#campaign-finance',
  },
  {
    title: 'Find Representatives',
    description: 'Look up who represents you at every level of government and contact them directly.',
    href: '/platform#representative-directory',
  },
  {
    title: 'Attend Meetings',
    description: 'Never miss a hearing that matters. Browse upcoming meetings with agendas and video links.',
    href: '/platform#meeting-calendar',
  },
  {
    title: 'Ask Documents',
    description: 'Upload any civic document and ask questions in plain language. Get answers with citations.',
    href: '/platform#document-qa',
  },
];

const values = [
  { title: 'Community-owned', description: 'Infrastructure you own, not a platform you rent.' },
  { title: 'Privacy by design', description: 'All AI runs locally. No tracking. No data harvesting.' },
  { title: 'Transparent', description: 'Every line of code is open source under AGPL-3.0.' },
  { title: 'No lock-in', description: 'Leave anytime. Take everything with you.' },
];

const techStack = [
  { name: 'Next.js', url: 'https://nextjs.org' },
  { name: 'NestJS', url: 'https://nestjs.com' },
  { name: 'GraphQL', url: 'https://graphql.org' },
  { name: 'PostgreSQL', url: 'https://postgresql.org' },
  { name: 'Terraform', url: 'https://terraform.io' },
  { name: 'Ollama', url: 'https://ollama.com' },
  { name: 'Supabase', url: 'https://supabase.com' },
];
---

<BaseLayout title="Built by Citizens. For Citizens.">
  <Hero
    title="Built by citizens. For citizens."
    subtitle="Democracy works when people have the tools to participate. We're building civic technology that communities own, control, and shapeâ€”not platforms built by businesses to extract value from public life."
    ctaText="Get Involved"
    ctaHref="/get-involved"
    secondaryCtaText="See the Platform"
    secondaryCtaHref="/platform"
  />

  <Section
    id="features"
    title="What we build"
    subtitle="Civic tools for every step of the democratic process."
  >
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {tools.map(tool => (
        <a href={tool.href} class="text-slate-dark border-l-2 border-slate-dark/10 pl-6 py-2 hover:border-sage transition-colors">
          <h3 class="font-medium mb-1">{tool.title}</h3>
          <p class="text-slate-dark/80 text-sm">{tool.description}</p>
        </a>
      ))}
    </div>
  </Section>

  <Section
    id="values"
    background="gray"
  >
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      {values.map(v => (
        <div>
          <h3 class="text-sm font-medium text-slate-dark mb-1">{v.title}</h3>
          <p class="text-slate-dark/70 text-sm">{v.description}</p>
        </div>
      ))}
    </div>
  </Section>

  <Section
    id="how-it-works"
    title="How it works"
  >
    <div class="grid md:grid-cols-3 gap-12">
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">01</div>
        <h3 class="text-lg font-medium mb-2">Choose your jurisdiction</h3>
        <p class="text-slate-dark/80 text-sm">Pick your state, county, or city. The platform loads your local civic data automatically.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">02</div>
        <h3 class="text-lg font-medium mb-2">Explore what matters</h3>
        <p class="text-slate-dark/80 text-sm">Scan petitions, read propositions, follow campaign money, find your representatives.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">03</div>
        <h3 class="text-lg font-medium mb-2">Take action</h3>
        <p class="text-slate-dark/80 text-sm">Contact representatives, attend meetings, share what you learn with your community.</p>
      </div>
    </div>
  </Section>

  <Section
    id="technology"
    title="Technology"
    subtitle="Built entirely with open-source components."
    background="gray"
  >
    <div class="flex flex-wrap gap-3">
      {techStack.map(tech => (
        <a
          href={tech.url}
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm text-slate-dark/80 border border-slate-dark/10 px-4 py-2 rounded-full hover:border-sage hover:text-sage transition-colors"
        >
          {tech.name}
        </a>
      ))}
    </div>
  </Section>

  <Section background="dark">
    <div class="max-w-xl">
      <h2 class="text-2xl font-semibold mb-4 tracking-tight">Ready to build with us?</h2>
      <p class="text-white/70 mb-8">
        Bring citizen-owned civic technology to your community. Join a growing network of people reclaiming democratic infrastructure.
      </p>
      <div class="flex gap-3">
        <a
          href="/get-involved"
          class="inline-flex items-center bg-slate-dark text-white border border-white px-5 py-2.5 rounded-md hover:bg-slate-dark/90 transition-colors text-sm font-medium"
        >
          Get Involved
        </a>
        <a
          href="/why"
          class="inline-flex items-center text-white/80 hover:text-white px-5 py-2.5 text-sm font-medium transition-colors"
        >
          Why It Matters
        </a>
      </div>
    </div>
  </Section>
</BaseLayout>
