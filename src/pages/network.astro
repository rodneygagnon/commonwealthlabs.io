---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';

const networkMembers = [
  {
    name: 'California',
    subdomain: 'california.commonwealthlabs.io',
    status: 'development',
    note: 'Coming 2026',
  },
];

const benefits = [
  { title: 'Subdomain hosting', description: 'Get a *.commonwealthlabs.io subdomain' },
  { title: 'Platform updates', description: 'Receive upstream improvements and security patches' },
  { title: 'Community support', description: 'Collaborate with other civic tech organizations' },
  { title: 'Full independence', description: 'Complete control over data and infrastructure' },
];
---

<BaseLayout title="Network" description="The Commonwealth Labs Network is a collaborative ecosystem of civic technology deployments.">
  <Hero
    title="Network"
    subtitle="A collaborative ecosystem of civic technology deployments, each serving their own jurisdiction while contributing to a shared platform."
  />

  <Section
    title="How it works"
    subtitle="Each deployment is independent but connected. Improvements flow upstream."
  >
    <div class="bg-gray-50 rounded-lg p-6 font-mono text-xs text-slate-dark/80 overflow-x-auto">
      <pre>
california.commonwealthlabs.io ─┐
                                ├─── Shared Platform (upstream repo)
texas.commonwealthlabs.io ──────┤
                                │
newyork.commonwealthlabs.io ────┘</pre>
    </div>
  </Section>

  <Section
    title="Benefits"
    background="gray"
  >
    <div class="grid md:grid-cols-2 gap-8">
      {benefits.map(benefit => (
        <div>
          <h3 class="font-medium mb-1">{benefit.title}</h3>
          <p class="text-slate-dark/80 text-sm">{benefit.description}</p>
        </div>
      ))}
    </div>
  </Section>

  <Section title="Members">
    {networkMembers.map(member => (
      <div class="flex items-center justify-between py-4 border-b border-slate-dark/5 last:border-0">
        <div>
          <span class="font-medium">{member.name}</span>
          <span class="text-slate-dark/80 text-sm ml-3">{member.note}</span>
        </div>
        <code class="text-xs text-slate-dark/80 bg-slate-dark/5 px-3 py-1 rounded-full">{member.subdomain}</code>
      </div>
    ))}

    <div class="mt-10">
      <a
        href="/join"
        class="inline-flex items-center bg-slate-dark text-white border border-white px-5 py-2.5 rounded-md hover:bg-slate-dark/90 transition-colors text-sm font-medium"
      >
        Join the Network
      </a>
    </div>
  </Section>

  <Section background="dark">
    <div class="max-w-2xl">
      <h2 class="text-2xl font-semibold mb-4 tracking-tight">Full independence</h2>
      <p class="text-white/70 mb-10">
        Joining the network doesn't mean giving up control.
      </p>

      <div class="grid sm:grid-cols-2 gap-8">
        <div>
          <h3 class="font-medium mb-1">Your data</h3>
          <p class="text-white/70 text-sm">Hosted on your infrastructure</p>
        </div>
        <div>
          <h3 class="font-medium mb-1">Your customizations</h3>
          <p class="text-white/70 text-sm">No upstream approval required</p>
        </div>
        <div>
          <h3 class="font-medium mb-1">Your infrastructure</h3>
          <p class="text-white/70 text-sm">AWS, GCP, or Azure</p>
        </div>
        <div>
          <h3 class="font-medium mb-1">Your governance</h3>
          <p class="text-white/70 text-sm">Decisions for your community</p>
        </div>
      </div>
    </div>
  </Section>
</BaseLayout>
